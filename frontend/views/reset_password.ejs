<!DOCTYPE html>
<head>
    <%- include('partials/head', { title: 'Restablecer Contraseña' }) %>
</head>
<body>
    <div class="card">
        <h2>Nueva Contraseña</h2>
        <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
            <p class="error-message">Por favor, corrige los siguientes errores:</p>
            <ul>
                <% errors.forEach(function(error) { %>
                    <li class="error-message"><%= error.msg %></li>
                <% }); %>
            </ul>
        <% } %>

        <% if (typeof mensaje !== 'undefined' && mensaje) { %>
            <p class="success-message"><%= mensaje %></p>
        <% } %>
        <form action="/reset-password/<%= token %>" method="POST">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">

            <label>Nueva contraseña:</label>
            <input type="password" name="contrasena" required>
            <small>La contraseña debe tener al menos 6 caracteres, incluyendo mayúsculas, minúsculas, números y símbolos.</small>
            <button type="submit">Guardar</button>
        </form>
    </div>
    <p style="text-align: center; margin-top: 20px;"><a href="/">Volver al inicio de sesión</a></p>
    <%- include('partials/footer') %>
</body>
</html>